function [y, T, residual, g1] = dynamic_3(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(19, 1);
  residual(1)=(y(46))-(1.7*y(47)-0.7*y(20)+0.99*y(13)+y(63));
  T(1)=(1-params(29))*(1-params(6)*params(14)*params(29))/((1+params(6)*params(14))*params(29))*1/(1+(params(8)-1)*params(11));
  T(2)=1/(1+T(1));
  T(3)=y(42)*params(30)+y(40)*1/(1-params(28)/params(6))-y(7)*params(28)/params(6)/(1-params(28)/params(6));
  residual(2)=(y(50))-(T(2)*(1/(1+params(6)*params(14))*y(6)+params(6)*params(14)/(1+params(6)*params(14))*y(72)+params(32)/(1+params(6)*params(14))*y(5)-y(38)*(1+params(6)*params(14)*params(32))/(1+params(6)*params(14))+y(52)*params(6)*params(14)/(1+params(6)*params(14))+T(1)*T(3)+y(60)));
  residual(3)=(y(39))-(y(50)*params(41)+y(51)*(1-params(41)));
  T(4)=(1-params(31))*(1-params(6)*params(14)*params(31))/params(31)/(1+(params(35)-1)*params(10));
  residual(4)=(y(43))-(params(42)*(y(58)+((y(38)-y(59))*(1+params(6)*params(14)*params(33))-(y(52)*params(6)*params(14)+y(5)*params(33)))/T(4)-y(39)*(1-params(40)))/params(40)+(1-params(42))*((1-params(40))/params(40)*(-y(39))+y(58)/params(40)));
  residual(5)=(y(44))-((-params(43))*(y(46)-y(36)-y(37))-params(46)*y(48)+y(62));
  residual(6)=(y(47))-(params(15)/(params(15)+1-params(7))*(y(41)-y(37))+y(36)*(1-params(7))/(params(15)+1-params(7))-y(3));
  residual(7)=(y(48))-(y(15)+params(45)*(y(49)-y(16))+y(64));
  residual(8)=(y(49))-(y(37)*1.17278+y(48)*0.073148-y(46)*0.245928);
  residual(9)=(y(53))-(y(78));
  residual(10)=(y(37))-((1-params(17))*y(4)+y(35)*params(17)+y(56)*params(26)*params(6)*params(6)*params(17));
  residual(11)=(y(38))-((y(34)-params(37)*y(1)-params(38)*(1-params(37))*y(41)-params(39)*(y(41)-y(8))-y(57))/((1-params(37))*params(36)));
  residual(12)=(y(40))-((y(41)-y(35)*params(21)-y(54)-params(23)*1/(params(34)/(1-params(34)))*y(43)-0.01*y(46))/params(22));
  residual(13)=(y(42))-(y(4)+1/(params(34)/(1-params(34)))*y(43)+y(43)-y(39));
  T(5)=1/((1-params(28)/params(6))/(params(27)*(1+params(28)/params(6))));
  residual(14)=(y(34))-(y(52)+T(5)*(params(28)/params(6)/(1+params(28)/params(6))*y(7)+1/(1+params(28)/params(6))*y(73)+(params(27)-1)*params(24)/(params(27)*(1+params(28)/params(6)))*(y(42)-y(75))+y(55)-y(40)));
  residual(15)=(y(35))-(1/(1+params(6)*params(14))*(y(2)+params(6)*params(14)*y(68)+1/(params(6)*params(6)*params(26))*y(36))+y(56));
  residual(16)=(y(36))-(params(15)/(params(15)+1-params(7))*y(76)-y(78)+(1-params(7))/(params(15)+1-params(7))*y(69));
  residual(17)=(y(45))-(y(11)+y(1)-y(52));
  residual(18)=(y(51))-(T(3)-(y(38)-y(52))+y(61));
  residual(19)=(y(41))-(params(35)*(params(40)*(y(4)+1/(params(34)/(1-params(34)))*y(43))+y(42)*(1-params(40))+y(58)));
if nargout > 3
    g1_v = NaN(82, 1);
g1_v(1)=(-(T(2)*params(32)/(1+params(6)*params(14))));
g1_v(2)=(-(params(42)*(-params(33))/T(4)/params(40)));
g1_v(3)=(-1);
g1_v(4)=(-(params(39)/((1-params(37))*params(36))));
g1_v(5)=params(45);
g1_v(6)=(-1);
g1_v(7)=0.7;
g1_v(8)=(-(1-params(17)));
g1_v(9)=(-1);
g1_v(10)=(-(params(35)*params(40)));
g1_v(11)=(-((-params(37))/((1-params(37))*params(36))));
g1_v(12)=(-1);
g1_v(13)=(-0.99);
g1_v(14)=(-(1/(1+params(6)*params(14))*T(2)));
g1_v(15)=(-(T(2)*T(1)*(-(params(28)/params(6)/(1-params(28)/params(6))))));
g1_v(16)=(-(T(5)*params(28)/params(6)/(1+params(28)/params(6))));
g1_v(17)=params(28)/params(6)/(1-params(28)/params(6));
g1_v(18)=(-(1/(1+params(6)*params(14))));
g1_v(19)=1;
g1_v(20)=(-1.7);
g1_v(21)=1;
g1_v(22)=1;
g1_v(23)=(-params(41));
g1_v(24)=(-(1-params(41)));
g1_v(25)=1;
g1_v(26)=(-(T(2)*(-((1+params(6)*params(14)*params(32))/(1+params(6)*params(14))))));
g1_v(27)=(-(params(42)*(1+params(6)*params(14)*params(33))/T(4)/params(40)));
g1_v(28)=1;
g1_v(29)=1;
g1_v(30)=1;
g1_v(31)=(-(params(15)/(params(15)+1-params(7))));
g1_v(32)=(-(((-(params(38)*(1-params(37))))-params(39))/((1-params(37))*params(36))));
g1_v(33)=(-(1/params(22)));
g1_v(34)=1;
g1_v(35)=(-params(45));
g1_v(36)=1;
g1_v(37)=params(46);
g1_v(38)=1;
g1_v(39)=(-0.073148);
g1_v(40)=1;
g1_v(41)=(-params(43));
g1_v(42)=params(15)/(params(15)+1-params(7));
g1_v(43)=(-1.17278);
g1_v(44)=1;
g1_v(45)=(-(1/((1-params(37))*params(36))));
g1_v(46)=1;
g1_v(47)=1;
g1_v(48)=params(43);
g1_v(49)=0.245928;
g1_v(50)=(-((-0.01)/params(22)));
g1_v(51)=1;
g1_v(52)=(-(params(42)*(-(1-params(40)))/params(40)+(1-params(42))*(-((1-params(40))/params(40)))));
g1_v(53)=1;
g1_v(54)=(-(T(2)*T(1)*1/(1-params(28)/params(6))));
g1_v(55)=1;
g1_v(56)=T(5);
g1_v(57)=(-(1/(1-params(28)/params(6))));
g1_v(58)=(-params(17));
g1_v(59)=(-((-params(21))/params(22)));
g1_v(60)=1;
g1_v(61)=(-params(43));
g1_v(62)=(-((1-params(7))/(params(15)+1-params(7))));
g1_v(63)=(-(1/(1+params(6)*params(14))*1/(params(6)*params(6)*params(26))));
g1_v(64)=1;
g1_v(65)=1;
g1_v(66)=(-(T(2)*T(1)*params(30)));
g1_v(67)=1;
g1_v(68)=(-(T(5)*(params(27)-1)*params(24)/(params(27)*(1+params(28)/params(6)))));
g1_v(69)=(-params(30));
g1_v(70)=(-(params(35)*(1-params(40))));
g1_v(71)=1;
g1_v(72)=(-((-(params(23)*1/(params(34)/(1-params(34)))))/params(22)));
g1_v(73)=(-(1+1/(params(34)/(1-params(34)))));
g1_v(74)=(-(params(35)*1/(params(34)/(1-params(34)))*params(40)));
g1_v(75)=(-(T(2)*params(6)*params(14)/(1+params(6)*params(14))));
g1_v(76)=(-(T(5)*1/(1+params(28)/params(6))));
g1_v(77)=(-(params(6)*params(14)*1/(1+params(6)*params(14))));
g1_v(78)=(-((1-params(7))/(params(15)+1-params(7))));
g1_v(79)=(-1);
g1_v(80)=1;
g1_v(81)=(-(T(5)*(-((params(27)-1)*params(24)/(params(27)*(1+params(28)/params(6)))))));
g1_v(82)=(-(params(15)/(params(15)+1-params(7))));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 19, 57);
end
end
